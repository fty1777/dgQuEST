#include "QuEST.h"
#include "mytimer.hpp"
#include "stdio.h"

int main(int narg, char *argv[]) {
    QuESTEnv Env = createQuESTEnv();
    Qureg q = createQureg(32, Env);

    float q_measure[32];
    controlledRotateY(q, 3, 31, 4.867733963748184);
    rotateZ(q, 15, 3.409395258473261);
    controlledNot(q, 0, 22);
    rotateY(q, 14, 4.403247850682227);
    controlledRotateY(q, 1, 6, 5.628798141218243);
    controlledRotateZ(q, 17, 12, 3.0744735146075137);
    controlledRotateZ(q, 23, 7, 3.400318182860917);
    controlledRotateZ(q, 22, 11, 5.142846806189076);
    sGate(q, 3);
    pauliZ(q, 21);
    hadamard(q, 2);
    pauliX(q, 22);
    controlledRotateX(q, 5, 15, 2.3457647649127638);
    controlledRotateX(q, 1, 8, 4.2361126190513945);
    rotateZ(q, 6, 3.887963040715182);
    pauliZ(q, 0);
    tGate(q, 20);
    rotateX(q, 20, 0.9681904160008289);
    pauliX(q, 3);
    controlledRotateY(q, 15, 9, 1.1936745565565188);
    sGate(q, 26);
    rotateZ(q, 13, 1.8625823226832703);
    controlledNot(q, 14, 15);
    phaseShift(q, 24, 1.551143326502021);
    rotateZ(q, 8, 5.517148142386702);
    hadamard(q, 28);
    sGate(q, 31);
    pauliX(q, 18);
    controlledRotateY(q, 13, 19, 1.4758816487963942);
    pauliY(q, 14);
    rotateX(q, 25, 3.499776055663664);
    hadamard(q, 29);
    controlledRotateX(q, 31, 5, 3.1744385397229014);
    controlledRotateY(q, 18, 25, 0.8511158639478272);
    controlledRotateZ(q, 1, 30, 2.7027892342554076);
    controlledRotateZ(q, 9, 13, 3.3326536814008874);
    rotateY(q, 7, 3.161265056186235);
    tGate(q, 18);
    controlledRotateX(q, 2, 0, 2.6153925679683363);
    rotateZ(q, 5, 4.564535761051062);
    pauliX(q, 7);
    controlledRotateY(q, 29, 12, 0.3942215672306767);
    pauliX(q, 13);
    controlledRotateY(q, 27, 18, 4.768137511831248);
    rotateX(q, 13, 1.6971053984466007);
    rotateX(q, 6, 3.480354684273749);
    controlledNot(q, 23, 29);
    tGate(q, 24);
    controlledPauliY(q, 13, 14);
    controlledRotateY(q, 7, 2, 4.049649392021922);
    controlledNot(q, 27, 17);
    pauliX(q, 13);
    pauliY(q, 6);
    tGate(q, 4);
    tGate(q, 17);
    controlledRotateZ(q, 17, 11, 4.701731225514148);
    pauliZ(q, 25);
    controlledNot(q, 14, 1);
    pauliZ(q, 19);
    tGate(q, 16);
    sGate(q, 19);
    controlledRotateY(q, 24, 25, 5.543849093849705);
    rotateX(q, 27, 5.634340700713106);
    pauliZ(q, 29);
    phaseShift(q, 20, 0.5178593466254243);
    controlledPauliY(q, 5, 0);
    pauliY(q, 28);
    sGate(q, 15);
    pauliY(q, 24);
    tGate(q, 17);
    hadamard(q, 12);
    rotateX(q, 11, 3.809460327325935);
    controlledNot(q, 30, 0);
    pauliZ(q, 25);
    pauliX(q, 26);
    pauliX(q, 18);
    tGate(q, 20);
    rotateX(q, 9, 5.357023903230778);
    controlledPauliY(q, 15, 2);
    phaseShift(q, 3, 1.5652501127460843);
    rotateY(q, 19, 2.142260733697708);
    phaseShift(q, 22, 1.1470957031988023);
    controlledRotateX(q, 26, 13, 1.8358850375955433);
    controlledNot(q, 12, 26);
    pauliX(q, 13);
    controlledRotateZ(q, 1, 9, 2.8633445103098456);
    sGate(q, 2);
    pauliY(q, 28);
    tGate(q, 28);
    pauliZ(q, 20);
    controlledNot(q, 22, 27);
    sGate(q, 26);
    phaseShift(q, 14, 3.526729822612229);
    tGate(q, 29);
    pauliX(q, 2);
    rotateY(q, 28, 0.8595698577646171);
    phaseShift(q, 29, 2.1208825846742227);
    rotateY(q, 13, 3.6101157911210624);
    hadamard(q, 11);
    rotateY(q, 18, 2.8384026923815275);
    pauliX(q, 10);
    rotateX(q, 20, 4.045133129450702);
    controlledRotateY(q, 15, 4, 4.60631435599288);
    rotateY(q, 9, 1.5822840651563321);
    rotateY(q, 19, 4.685726777660219);
    controlledNot(q, 18, 7);
    phaseShift(q, 4, 4.854956280981095);
    phaseShift(q, 11, 2.3152513209065897);
    sGate(q, 2);
    hadamard(q, 11);
    rotateX(q, 26, 2.3322806183244844);
    rotateY(q, 22, 3.0343059835748982);
    hadamard(q, 12);
    hadamard(q, 26);
    controlledRotateZ(q, 19, 18, 5.590349533548661);
    sGate(q, 13);
    rotateZ(q, 29, 2.082168172333088);
    rotateX(q, 23, 3.775503934305115);
    hadamard(q, 13);
    controlledRotateZ(q, 16, 5, 5.193489041815617);
    rotateX(q, 28, 5.748160243567692);
    tGate(q, 3);
    pauliZ(q, 18);
    tGate(q, 14);
    rotateZ(q, 18, 3.7365500683182264);
    pauliX(q, 11);
    sGate(q, 16);
    rotateX(q, 19, 5.309640617123472);
    controlledPauliY(q, 23, 3);
    phaseShift(q, 1, 1.2500530877257707);
    rotateY(q, 13, 2.266442981340838);
    rotateX(q, 1, 5.164921690075347);
    phaseShift(q, 16, 4.797965617958118);
    pauliX(q, 16);
    rotateZ(q, 31, 4.616759112254118);
    controlledPauliY(q, 23, 29);
    rotateZ(q, 21, 1.4492475713338289);
    hadamard(q, 20);
    phaseShift(q, 12, 0.7100916378245867);
    controlledNot(q, 17, 27);
    pauliX(q, 29);
    hadamard(q, 16);
    pauliZ(q, 7);
    pauliZ(q, 21);
    controlledRotateZ(q, 13, 9, 4.426251800501606);
    pauliX(q, 7);
    rotateY(q, 11, 4.606784409061705);
    hadamard(q, 27);
    pauliY(q, 30);
    controlledRotateY(q, 9, 18, 0.9437637928275493);
    sGate(q, 14);
    hadamard(q, 21);
    phaseShift(q, 24, 2.5159804085880038);
    pauliX(q, 13);
    hadamard(q, 8);
    pauliY(q, 0);
    controlledPauliY(q, 27, 13);
    rotateY(q, 15, 2.359729121954566);
    rotateZ(q, 13, 4.886988218637541);
    rotateY(q, 7, 4.544547165604671);
    tGate(q, 12);
    hadamard(q, 22);
    rotateX(q, 6, 4.777593717147065);
    pauliX(q, 25);
    sGate(q, 25);
    rotateY(q, 22, 1.6437447007418657);
    rotateZ(q, 10, 3.9291419886749437);
    controlledPauliY(q, 2, 3);
    tGate(q, 11);
    controlledNot(q, 25, 1);
    phaseShift(q, 9, 2.745863503347458);
    sGate(q, 0);
    pauliY(q, 26);
    rotateY(q, 18, 5.171537024633162);
    pauliX(q, 2);
    tGate(q, 24);
    hadamard(q, 11);
    phaseShift(q, 8, 3.4609791594532977);
    controlledRotateY(q, 31, 0, 2.099270298309542);
    rotateX(q, 26, 3.8195164716790573);
    controlledNot(q, 17, 15);
    controlledRotateZ(q, 18, 26, 5.56116885053477);
    pauliZ(q, 8);
    pauliY(q, 28);
    tGate(q, 20);
    pauliX(q, 20);
    controlledRotateX(q, 10, 9, 5.7205506795271335);
    controlledRotateY(q, 5, 28, 4.532668002306487);
    hadamard(q, 12);
    hadamard(q, 1);
    rotateY(q, 29, 5.011586167812296);
    controlledRotateZ(q, 6, 4, 1.9093006793536322);
    rotateZ(q, 23, 0.6911761360292906);
    pauliX(q, 15);
    pauliX(q, 21);
    sGate(q, 24);
    controlledNot(q, 8, 2);
    phaseShift(q, 15, 2.722868437597862);
    controlledRotateX(q, 4, 30, 5.023017242301876);
    controlledNot(q, 6, 25);
    pauliY(q, 8);
    controlledPauliY(q, 21, 27);
    phaseShift(q, 16, 2.2950479845507368);
    controlledRotateY(q, 18, 29, 2.024946453079107);
    controlledRotateX(q, 23, 29, 1.2287164627307836);
    pauliZ(q, 10);
    sGate(q, 5);
    rotateX(q, 14, 5.867977817371757);
    rotateX(q, 17, 5.830874093579058);
    rotateY(q, 22, 1.4564939715001946);
    controlledNot(q, 18, 23);
    controlledNot(q, 27, 7);
    rotateX(q, 20, 0.1273122842675443);
    hadamard(q, 0);
    controlledRotateY(q, 5, 2, 5.606801462524049);
    controlledRotateZ(q, 2, 27, 4.263195540017979);
    tGate(q, 20);
    controlledPauliY(q, 4, 12);
    tGate(q, 20);
    controlledNot(q, 21, 2);
    controlledPauliY(q, 20, 6);
    controlledRotateX(q, 5, 9, 2.3582599794431998);
    phaseShift(q, 12, 3.610963539540793);
    pauliX(q, 14);
    tGate(q, 30);
    controlledNot(q, 22, 20);
    rotateY(q, 31, 1.6435725888685482);
    controlledRotateY(q, 29, 30, 3.1644334963149428);
    controlledRotateZ(q, 29, 5, 0.5248563072451552);
    sGate(q, 0);
    tGate(q, 11);
    phaseShift(q, 21, 2.20591115255279);
    controlledRotateX(q, 22, 30, 1.891329708760101);
    rotateZ(q, 3, 5.651709360452055);
    pauliY(q, 20);
    controlledNot(q, 4, 25);
    rotateZ(q, 8, 1.9097526049959619);
    pauliX(q, 23);
    controlledNot(q, 1, 30);
    controlledPauliY(q, 2, 23);
    controlledPauliY(q, 26, 3);
    rotateY(q, 1, 5.265330129810775);
    hadamard(q, 7);
    sGate(q, 9);
    pauliX(q, 2);
    controlledPauliY(q, 19, 15);
    phaseShift(q, 20, 2.1167093703428215);
    hadamard(q, 23);
    controlledRotateY(q, 13, 20, 3.402535084170237);
    pauliY(q, 30);
    rotateX(q, 18, 0.42801579816104285);
    pauliZ(q, 29);
    controlledRotateY(q, 13, 23, 3.8480847964677376);
    tGate(q, 24);
    controlledRotateX(q, 5, 14, 3.7199310505712213);
    rotateX(q, 23, 2.4058313532372178);
    sGate(q, 8);
    pauliY(q, 30);
    controlledNot(q, 30, 29);
    rotateZ(q, 17, 5.0857241670074265);
    pauliZ(q, 4);
    rotateZ(q, 0, 0.1708749856934892);
    pauliZ(q, 28);
    controlledPauliY(q, 28, 7);
    controlledRotateX(q, 1, 26, 5.437519183292963);
    sGate(q, 14);
    tGate(q, 17);
    controlledRotateX(q, 23, 21, 2.9626145454642674);
    controlledRotateX(q, 27, 7, 0.12348133164373942);
    rotateY(q, 21, 3.8392666883556457);
    controlledPauliY(q, 30, 18);
    controlledRotateX(q, 7, 15, 2.789171954301253);
    controlledPauliY(q, 8, 28);
    controlledNot(q, 27, 1);
    phaseShift(q, 5, 0.3905210900681809);
    phaseShift(q, 14, 0.13928786146932215);
    pauliX(q, 24);
    rotateX(q, 10, 1.8255261129197329);
    pauliZ(q, 15);
    controlledRotateY(q, 13, 18, 1.9412171706213);
    pauliZ(q, 7);
    controlledRotateX(q, 18, 21, 4.516324897835564);
    rotateZ(q, 15, 3.1973091453593434);
    controlledPauliY(q, 28, 17);
    controlledNot(q, 17, 9);
    rotateX(q, 19, 2.6721766724386087);
    tGate(q, 3);
    hadamard(q, 29);
    controlledRotateX(q, 15, 26, 4.997041536142176);
    pauliZ(q, 19);
    controlledRotateX(q, 26, 5, 5.006781267051721);
    tGate(q, 19);
    controlledRotateY(q, 30, 12, 2.3720439288066633);
    controlledRotateX(q, 27, 20, 3.711518601540544);
    sGate(q, 19);
    controlledPauliY(q, 18, 31);
    controlledPauliY(q, 6, 27);
    pauliY(q, 24);
    rotateX(q, 29, 5.2456754160332935);
    pauliY(q, 8);
    controlledPauliY(q, 28, 8);
    controlledRotateY(q, 26, 22, 0.4165928336043978);
    rotateZ(q, 18, 5.580339581070511);
    controlledPauliY(q, 11, 4);
    controlledNot(q, 28, 3);
    rotateX(q, 28, 1.4695876136122035);
    hadamard(q, 1);
    controlledRotateY(q, 29, 23, 0.6252070441802773);
    pauliX(q, 12);
    phaseShift(q, 25, 2.1438288650040294);
    pauliY(q, 22);
    pauliY(q, 27);
    controlledRotateY(q, 24, 7, 4.263581213265297);
    controlledNot(q, 12, 13);
    rotateY(q, 29, 2.106483058411699);
    controlledRotateX(q, 12, 26, 5.419010527498271);
    pauliZ(q, 2);
    tGate(q, 5);
    pauliX(q, 27);
    controlledRotateZ(q, 29, 25, 3.8101980131137925);
    phaseShift(q, 8, 5.862005570758551);
    controlledNot(q, 2, 27);
    rotateX(q, 8, 0.6006371711721824);
    rotateZ(q, 30, 2.5243981452592963);
    sGate(q, 9);
    controlledRotateX(q, 12, 25, 3.746878483818128);
    hadamard(q, 26);
    sGate(q, 13);
    rotateZ(q, 4, 0.6985405223845094);
    controlledRotateZ(q, 9, 2, 2.2984584989397296);
    pauliY(q, 16);
    sGate(q, 13);
    controlledRotateZ(q, 5, 10, 0.9811115413543485);
    pauliZ(q, 25);
    phaseShift(q, 7, 4.804196050650984);
    controlledRotateZ(q, 29, 2, 3.377055265573711);
    tGate(q, 9);
    pauliY(q, 5);
    controlledRotateZ(q, 3, 22, 2.3662827881850026);
    rotateZ(q, 3, 5.556728204962215);
    rotateY(q, 4, 4.131256216443159);
    controlledNot(q, 31, 30);
    controlledRotateZ(q, 31, 22, 2.565073355172246);
    pauliZ(q, 25);
    phaseShift(q, 10, 1.4097898418299122);
    hadamard(q, 12);
    controlledNot(q, 17, 16);
    phaseShift(q, 15, 2.151022961708366);
    sGate(q, 24);
    phaseShift(q, 21, 3.731692642978901);
    rotateZ(q, 7, 5.425495293600747);
    phaseShift(q, 23, 1.7812000119790574);
    pauliZ(q, 27);
    pauliX(q, 27);
    pauliY(q, 15);
    rotateY(q, 13, 5.623815709217488);
    sGate(q, 30);
    hadamard(q, 10);
    phaseShift(q, 1, 4.957573892722617);
    rotateX(q, 22, 5.054434146777801);
    controlledRotateY(q, 12, 1, 3.5624952046869587);
    phaseShift(q, 2, 1.2545421694523908);
    rotateY(q, 9, 0.6102149362415283);
    hadamard(q, 29);
    controlledRotateX(q, 21, 7, 3.3913117738532463);
    controlledNot(q, 30, 3);
    controlledPauliY(q, 8, 23);
    sGate(q, 0);
    pauliX(q, 30);
    pauliX(q, 30);
    controlledPauliY(q, 6, 23);
    rotateY(q, 0, 2.8187213958844324);
    controlledRotateX(q, 28, 14, 5.085717010540534);
    pauliZ(q, 21);
    controlledRotateY(q, 11, 7, 1.0896546158394975);
    controlledRotateY(q, 15, 24, 0.9612589335874198);
    hadamard(q, 25);
    pauliY(q, 29);
    controlledRotateZ(q, 0, 21, 3.557260866072677);
    rotateX(q, 19, 3.655957770371385);
    rotateX(q, 10, 1.8608010907798431);
    controlledRotateZ(q, 13, 28, 0.8663938490526641);
    controlledRotateY(q, 31, 8, 4.033664051048076);
    sGate(q, 28);
    sGate(q, 25);
    rotateY(q, 20, 3.4815639337101683);
    phaseShift(q, 14, 0.41391419373546334);
    controlledRotateZ(q, 14, 28, 0.8741518911177578);
    sGate(q, 16);
    controlledNot(q, 1, 14);
    phaseShift(q, 7, 5.8366913189116);
    controlledRotateZ(q, 20, 5, 1.7770913808462108);
    controlledNot(q, 6, 20);
    pauliX(q, 23);
    hadamard(q, 19);
    rotateZ(q, 16, 3.561202042161294);
    pauliY(q, 13);
    controlledRotateY(q, 16, 22, 2.974520585945981);
    controlledPauliY(q, 14, 1);
    tGate(q, 1);
    sGate(q, 26);
    pauliX(q, 18);
    pauliZ(q, 27);
    sGate(q, 19);
    controlledNot(q, 13, 24);
    controlledRotateZ(q, 25, 11, 4.757156818774428);
    pauliX(q, 19);
    controlledNot(q, 17, 18);
    pauliZ(q, 26);
    controlledPauliY(q, 8, 27);
    pauliY(q, 28);
    controlledRotateZ(q, 17, 22, 5.465217010668905);
    controlledRotateY(q, 12, 9, 4.098038565757173);
    pauliZ(q, 13);
    controlledPauliY(q, 8, 15);
    controlledRotateX(q, 9, 5, 1.3676010159674417);
    controlledRotateY(q, 10, 19, 5.078855766445163);
    pauliX(q, 13);
    sGate(q, 5);
    rotateY(q, 26, 1.2565873055300794);
    controlledRotateX(q, 15, 4, 0.17167850250521904);
    sGate(q, 18);
    rotateX(q, 14, 4.340367434224209);
    pauliZ(q, 19);
    phaseShift(q, 9, 4.237458050443468);
    pauliX(q, 17);
    controlledNot(q, 27, 14);
    phaseShift(q, 29, 4.703550547306469);
    controlledRotateX(q, 3, 12, 1.535844111795141);
    tGate(q, 2);
    rotateZ(q, 27, 5.0577624309094125);
    controlledRotateX(q, 19, 18, 0.5362350141623557);
    tGate(q, 27);
    controlledPauliY(q, 3, 10);
    pauliZ(q, 26);
    rotateY(q, 6, 4.989598936167566);
    controlledRotateY(q, 5, 12, 2.6745472402118784);
    controlledRotateZ(q, 24, 22, 3.2208886784519413);
    controlledRotateZ(q, 15, 17, 1.110379818633834);
    hadamard(q, 9);
    pauliY(q, 2);
    rotateY(q, 0, 1.4815313263015444);
    rotateY(q, 13, 3.7445227166981754);
    pauliY(q, 20);
    pauliY(q, 8);
    rotateY(q, 28, 4.653978827584688);
    pauliX(q, 25);
    rotateY(q, 21, 2.968505476434952);
    controlledNot(q, 27, 20);
    hadamard(q, 8);
    tGate(q, 29);
    phaseShift(q, 4, 1.828978089752128);
    sGate(q, 28);
    controlledRotateY(q, 18, 14, 1.6469636965965555);
    pauliX(q, 26);
    rotateY(q, 14, 5.512852714118297);
    rotateY(q, 17, 3.5876988584117337);
    rotateZ(q, 0, 5.684607276438753);
    hadamard(q, 29);
    controlledPauliY(q, 25, 12);
    pauliX(q, 24);
    rotateZ(q, 12, 1.8860422475878726);
    rotateZ(q, 24, 1.3083716204045626);
    phaseShift(q, 13, 3.0593677283119436);
    controlledPauliY(q, 17, 4);
    rotateY(q, 19, 4.1736371878270635);
    rotateX(q, 11, 3.531236300303557);
    rotateY(q, 1, 2.641722408988844);
    controlledRotateY(q, 7, 18, 5.467148962177174);
    controlledPauliY(q, 30, 16);
    rotateZ(q, 3, 0.3956733100452695);
    tGate(q, 17);
    pauliZ(q, 31);
    phaseShift(q, 24, 0.8151053965405607);
    hadamard(q, 6);
    tGate(q, 3);
    rotateY(q, 2, 5.110943641888871);
    sGate(q, 23);
    hadamard(q, 31);
    controlledNot(q, 25, 26);
    sGate(q, 8);
    phaseShift(q, 18, 1.8523397671433177);
    tGate(q, 2);
    controlledPauliY(q, 3, 5);
    controlledRotateZ(q, 1, 24, 4.343593087643928);
    phaseShift(q, 23, 3.07150962362217);
    sGate(q, 11);
    tGate(q, 5);
    controlledPauliY(q, 15, 24);
    pauliY(q, 25);
    rotateZ(q, 9, 4.79379809923161);
    pauliZ(q, 24);
    pauliZ(q, 0);
    controlledRotateX(q, 11, 13, 3.0673092347480195);
    controlledNot(q, 30, 5);
    pauliX(q, 27);
    controlledPauliY(q, 24, 31);
    rotateY(q, 7, 1.1069967547298953);
    pauliZ(q, 19);
    controlledNot(q, 8, 14);

    searchQuregTaskPartitions(q, Env);
    double t1 = get_wall_time();
    getAmp(q, 0);
    double t2 = get_wall_time();

    printf("\n");
    for (long long int i = 0; i < 32; ++i) {
        q_measure[i] = calcProbOfOutcome(q, i, 1);
        printf("  probability for q[%2lld]==1 : %lf    \n", i, q_measure[i]);
    }
    printf("\n");


    for (int i = 0; i < 10; ++i) {
        Complex amp = getAmp(q, i);
        printf("Amplitude of %dth state vector: %12.6f,%12.6f\n", i, amp.real, amp.imag);
    }

    printf("Complete the simulation takes time %12.6f seconds.", t2 - t1);
    printf("\n");

    destroyQureg(q, Env);
    destroyQuESTEnv(Env);

    return 0;
}