#include "QuEST.h"
#include "mytimer.hpp"
#include "stdio.h"

int main(int narg, char *argv[]) {
    QuESTEnv Env = createQuESTEnv();
    Qureg q = createQureg(34, Env);

    float q_measure[34];
    rotateZ(q, 24, 0.704185545631012);
    sGate(q, 12);
    pauliZ(q, 6);
    controlledPauliY(q, 16, 30);
    controlledRotateZ(q, 10, 13, 5.6150491334452575);
    rotateY(q, 17, 1.350185856790982);
    controlledNot(q, 20, 9);
    sGate(q, 10);
    sGate(q, 32);
    controlledRotateY(q, 18, 28, 1.7376508040160163);
    controlledRotateX(q, 2, 6, 2.4198681084497906);
    hadamard(q, 0);
    hadamard(q, 15);
    sGate(q, 9);
    controlledPauliY(q, 26, 4);
    controlledNot(q, 25, 17);
    pauliY(q, 22);
    pauliZ(q, 21);
    tGate(q, 5);
    rotateY(q, 15, 4.463781022670426);
    rotateZ(q, 22, 4.868733816470382);
    rotateY(q, 2, 4.026413816518584);
    controlledRotateX(q, 17, 15, 2.013295046610719);
    controlledRotateY(q, 30, 8, 5.595511568087247);
    pauliX(q, 13);
    controlledRotateX(q, 9, 28, 1.2713381653582758);
    controlledRotateX(q, 19, 22, 5.4037345263421805);
    controlledNot(q, 12, 22);
    pauliY(q, 20);
    controlledNot(q, 21, 16);
    phaseShift(q, 29, 5.45412470077958);
    pauliX(q, 7);
    sGate(q, 4);
    pauliX(q, 8);
    controlledRotateY(q, 14, 9, 0.18627036598958457);
    pauliZ(q, 0);
    rotateY(q, 27, 3.6624184283017827);
    hadamard(q, 26);
    hadamard(q, 1);
    controlledPauliY(q, 0, 28);
    pauliZ(q, 3);
    controlledRotateZ(q, 23, 13, 3.5378855762758468);
    phaseShift(q, 33, 3.57534338654745);
    sGate(q, 7);
    tGate(q, 4);
    pauliY(q, 29);
    pauliX(q, 19);
    hadamard(q, 18);
    controlledRotateZ(q, 0, 14, 0.7867716007009945);
    controlledRotateZ(q, 28, 32, 3.251736707002951);
    pauliZ(q, 25);
    hadamard(q, 4);
    rotateY(q, 25, 4.479716445547601);
    controlledRotateY(q, 18, 25, 1.7667865599833672);
    rotateZ(q, 26, 4.222173270525685);
    tGate(q, 9);
    phaseShift(q, 17, 3.677612616501058);
    pauliX(q, 1);
    phaseShift(q, 8, 4.20156345861291);
    controlledRotateZ(q, 8, 5, 5.1748174610495585);
    pauliY(q, 17);
    pauliY(q, 3);
    pauliY(q, 3);
    controlledRotateZ(q, 14, 2, 2.9806556023167383);
    controlledRotateX(q, 18, 5, 2.9397747823731435);
    sGate(q, 5);
    pauliY(q, 21);
    controlledRotateX(q, 25, 4, 2.7259250155487478);
    pauliZ(q, 29);
    phaseShift(q, 1, 0.8358704714755015);
    controlledPauliY(q, 17, 2);
    controlledRotateZ(q, 19, 32, 5.3184304206295065);
    phaseShift(q, 9, 1.7765275823764675);
    pauliX(q, 2);
    pauliZ(q, 2);
    pauliX(q, 20);
    rotateZ(q, 2, 2.7178030689021906);
    sGate(q, 18);
    pauliY(q, 22);
    phaseShift(q, 29, 1.1870940969229264);
    controlledRotateZ(q, 4, 24, 1.6682819193234992);
    rotateZ(q, 20, 3.025585884841078);
    controlledPauliY(q, 7, 14);
    controlledRotateX(q, 23, 7, 4.187878160916738);
    pauliZ(q, 24);
    pauliX(q, 10);
    controlledRotateZ(q, 20, 26, 1.6315600942063482);
    controlledRotateZ(q, 10, 29, 1.1279145378170115);
    controlledPauliY(q, 4, 23);
    controlledRotateY(q, 26, 24, 3.738975057002309);
    pauliX(q, 33);
    rotateY(q, 17, 2.320052635949389);
    controlledRotateZ(q, 7, 9, 5.761841497890372);
    phaseShift(q, 33, 5.317972742918993);
    controlledNot(q, 13, 26);
    pauliX(q, 32);
    controlledRotateZ(q, 24, 5, 0.11836464719830192);
    hadamard(q, 13);
    hadamard(q, 13);
    pauliY(q, 21);
    controlledPauliY(q, 12, 9);
    controlledRotateZ(q, 3, 18, 2.379989289606773);
    rotateY(q, 13, 5.240688960437408);
    pauliX(q, 31);
    tGate(q, 13);
    pauliX(q, 9);
    pauliY(q, 29);
    tGate(q, 0);
    tGate(q, 29);
    rotateX(q, 18, 4.6777005923813055);
    rotateX(q, 30, 2.463393635146956);
    controlledRotateZ(q, 4, 10, 4.421469422666363);
    hadamard(q, 19);
    controlledRotateY(q, 3, 7, 4.408794893060202);
    controlledNot(q, 11, 0);
    sGate(q, 13);
    hadamard(q, 2);
    tGate(q, 16);
    pauliX(q, 8);
    pauliY(q, 27);
    rotateY(q, 9, 4.247192502681654);
    pauliX(q, 9);
    tGate(q, 16);
    rotateY(q, 12, 1.4682869429292003);
    pauliX(q, 24);
    controlledNot(q, 22, 33);
    sGate(q, 27);
    pauliX(q, 23);
    rotateZ(q, 6, 5.400235831320476);
    rotateY(q, 26, 3.9294554377638264);
    hadamard(q, 16);
    sGate(q, 8);
    rotateX(q, 14, 0.22656894328695748);
    rotateX(q, 15, 5.738212384291347);
    rotateY(q, 2, 0.1446820371578712);
    phaseShift(q, 8, 1.2517798587274853);
    rotateY(q, 12, 0.7368069992294445);
    pauliZ(q, 32);
    controlledRotateZ(q, 9, 18, 4.206935776875723);
    controlledRotateY(q, 10, 7, 0.640095462327328);
    sGate(q, 26);
    sGate(q, 30);
    pauliY(q, 30);
    phaseShift(q, 4, 1.405816972290844);
    tGate(q, 6);
    rotateY(q, 3, 5.279830305934762);
    controlledNot(q, 23, 13);
    phaseShift(q, 4, 5.641020197761423);
    controlledRotateZ(q, 5, 6, 5.840635733549006);
    controlledPauliY(q, 29, 32);
    controlledNot(q, 33, 1);
    controlledRotateY(q, 2, 9, 2.9008168768038987);
    rotateY(q, 20, 3.7808764940825204);
    rotateX(q, 17, 1.553673816380131);
    rotateX(q, 27, 4.320803440362842);
    rotateX(q, 16, 4.8004522659289455);
    rotateZ(q, 2, 4.5768817601978755);
    rotateZ(q, 25, 4.015975306795261);
    pauliY(q, 18);
    pauliX(q, 32);
    controlledRotateX(q, 17, 24, 5.055492056579281);
    controlledRotateZ(q, 13, 14, 4.228595923801528);
    rotateZ(q, 13, 0.9750058956141202);
    pauliY(q, 8);
    sGate(q, 26);
    phaseShift(q, 4, 4.818890041151745);
    rotateX(q, 1, 0.37345162110644936);
    sGate(q, 5);
    hadamard(q, 3);
    controlledRotateX(q, 32, 26, 4.519043205732379);
    rotateZ(q, 22, 4.9423731724995505);
    rotateY(q, 29, 4.841900982234349);
    sGate(q, 1);
    pauliX(q, 33);
    phaseShift(q, 30, 1.548170469295463);
    rotateX(q, 10, 0.14655921049828957);
    sGate(q, 32);
    phaseShift(q, 4, 2.614090819713374);
    rotateZ(q, 31, 4.385118278906771);
    phaseShift(q, 4, 1.2929863622281739);
    rotateZ(q, 22, 3.6579285292697272);
    tGate(q, 28);
    sGate(q, 19);
    controlledNot(q, 28, 19);
    rotateZ(q, 19, 0.7010544172339916);
    controlledRotateZ(q, 25, 15, 1.773650893536661);
    controlledRotateX(q, 30, 5, 4.251087331632304);
    rotateY(q, 13, 2.8879403871792455);
    controlledPauliY(q, 6, 13);
    controlledPauliY(q, 32, 4);
    controlledRotateX(q, 12, 4, 0.1552238225259808);
    phaseShift(q, 29, 0.5507382412424239);
    pauliZ(q, 18);
    controlledRotateY(q, 10, 15, 5.508505931874228);
    rotateX(q, 23, 1.959343561562623);
    controlledRotateY(q, 29, 23, 0.5386149139201286);
    rotateY(q, 0, 5.28674659589655);
    controlledPauliY(q, 3, 16);
    controlledNot(q, 26, 28);
    controlledRotateZ(q, 18, 22, 3.8263242675837574);
    controlledPauliY(q, 9, 16);
    hadamard(q, 12);
    pauliY(q, 30);
    rotateZ(q, 3, 2.534167153061723);
    hadamard(q, 18);
    pauliY(q, 0);
    controlledPauliY(q, 33, 18);
    rotateZ(q, 5, 2.746006242775944);
    controlledRotateX(q, 0, 26, 2.2519192825831262);
    tGate(q, 3);
    controlledRotateX(q, 16, 31, 4.4938508065723255);
    rotateZ(q, 3, 2.0068260241067803);
    controlledNot(q, 21, 31);
    controlledNot(q, 12, 28);
    controlledPauliY(q, 0, 9);
    phaseShift(q, 25, 0.7096076933380508);
    controlledRotateY(q, 1, 26, 1.631349783275174);
    controlledRotateX(q, 31, 12, 3.9763241976596584);
    pauliX(q, 31);
    rotateX(q, 18, 1.6841046711956045);
    sGate(q, 28);
    phaseShift(q, 20, 2.494341106637136);
    pauliX(q, 26);
    controlledRotateX(q, 11, 16, 5.819347176514765);
    pauliY(q, 14);
    controlledRotateY(q, 12, 23, 1.5609222153631421);
    sGate(q, 21);
    rotateX(q, 10, 0.22860963562154776);
    controlledRotateZ(q, 33, 30, 0.18903413368624009);
    controlledRotateX(q, 14, 23, 1.9088535920978258);
    pauliX(q, 29);
    pauliY(q, 32);
    controlledRotateZ(q, 21, 1, 0.3726868034118249);
    controlledNot(q, 6, 24);
    rotateY(q, 24, 1.1286721147267416);
    sGate(q, 10);
    controlledNot(q, 29, 30);
    tGate(q, 10);
    hadamard(q, 12);
    controlledPauliY(q, 30, 26);
    controlledRotateZ(q, 1, 32, 3.584840055695601);
    rotateZ(q, 22, 3.8959060360694484);
    rotateX(q, 3, 3.6776941795105826);
    rotateZ(q, 6, 4.186609841993548);
    pauliX(q, 24);
    hadamard(q, 1);
    pauliX(q, 29);
    controlledPauliY(q, 16, 33);
    rotateX(q, 7, 5.609601631692121);
    controlledRotateZ(q, 0, 7, 3.0039053686464374);
    hadamard(q, 30);
    controlledPauliY(q, 9, 30);
    sGate(q, 9);
    rotateY(q, 8, 1.709262307135075);
    rotateZ(q, 17, 2.434494061007129);
    rotateZ(q, 10, 0.8942225091212881);
    controlledRotateZ(q, 11, 31, 0.7749388820302022);
    controlledPauliY(q, 5, 25);
    pauliX(q, 4);
    rotateZ(q, 31, 1.1683896009742307);
    pauliY(q, 15);
    controlledPauliY(q, 5, 9);
    controlledPauliY(q, 3, 28);
    rotateZ(q, 12, 5.170233885202376);
    controlledRotateY(q, 6, 31, 5.138467876590553);
    controlledRotateZ(q, 5, 27, 2.138646400573001);
    pauliZ(q, 32);
    controlledRotateX(q, 8, 26, 1.9839091777904831);
    pauliX(q, 18);
    hadamard(q, 8);
    controlledNot(q, 15, 26);
    tGate(q, 10);
    rotateZ(q, 18, 4.750834822864752);
    controlledRotateY(q, 20, 1, 1.8535395881052459);
    controlledNot(q, 25, 0);
    rotateX(q, 24, 0.8039030000762664);
    pauliX(q, 0);
    controlledPauliY(q, 22, 20);
    rotateX(q, 28, 4.78973208861271);
    rotateX(q, 13, 5.289105936172761);
    controlledRotateY(q, 13, 25, 0.10176883790299976);
    controlledRotateX(q, 5, 13, 0.39332530280442524);
    sGate(q, 32);
    controlledRotateX(q, 13, 7, 4.612312238373291);
    hadamard(q, 3);
    pauliY(q, 4);
    controlledRotateZ(q, 10, 12, 5.687039827298137);
    phaseShift(q, 18, 3.5762413529306234);
    rotateX(q, 18, 3.2144473574241625);
    controlledRotateY(q, 31, 9, 3.8422229114214965);
    rotateY(q, 2, 1.8375745707432554);
    controlledRotateZ(q, 2, 15, 4.962210376400025);
    rotateX(q, 30, 5.498430040615076);
    tGate(q, 4);
    hadamard(q, 15);
    pauliY(q, 32);
    pauliZ(q, 2);
    phaseShift(q, 0, 4.665015712291407);
    tGate(q, 27);
    pauliY(q, 12);
    hadamard(q, 21);
    rotateY(q, 1, 1.6418558439726076);
    pauliZ(q, 12);
    hadamard(q, 31);
    pauliX(q, 31);
    controlledRotateY(q, 7, 11, 3.9201500895004813);
    rotateY(q, 26, 5.562758807399944);
    phaseShift(q, 14, 4.960586567027955);
    controlledNot(q, 14, 30);
    rotateX(q, 28, 2.801002942901624);
    phaseShift(q, 9, 4.496723437448445);
    pauliZ(q, 30);
    hadamard(q, 16);
    hadamard(q, 0);
    controlledNot(q, 11, 7);
    pauliZ(q, 32);
    sGate(q, 23);
    phaseShift(q, 33, 4.2202735725191305);
    rotateX(q, 29, 4.888063007484333);
    rotateX(q, 32, 2.076024526348808);
    rotateX(q, 14, 3.287233171352407);
    rotateY(q, 18, 1.9277060999632836);
    pauliX(q, 32);
    sGate(q, 4);
    rotateZ(q, 21, 5.046723852775056);
    controlledRotateX(q, 14, 15, 1.0090188057712173);
    sGate(q, 14);
    pauliY(q, 24);
    pauliX(q, 30);
    pauliZ(q, 29);
    rotateZ(q, 5, 2.4439328055213707);
    pauliY(q, 26);
    sGate(q, 15);
    phaseShift(q, 3, 0.4372002707661663);
    pauliZ(q, 21);
    sGate(q, 18);
    controlledRotateZ(q, 17, 8, 3.348995702576448);
    phaseShift(q, 25, 5.635207284646911);
    phaseShift(q, 2, 5.707594611744593);
    sGate(q, 17);
    rotateZ(q, 17, 1.3354767578939253);
    pauliY(q, 20);
    rotateZ(q, 22, 1.7115627271451463);
    controlledRotateZ(q, 26, 7, 1.6293311284124623);
    rotateZ(q, 17, 4.428965836147661);
    controlledRotateY(q, 25, 29, 4.574588381845117);
    phaseShift(q, 24, 1.7752958704396555);
    sGate(q, 3);
    controlledRotateY(q, 21, 12, 2.626784605586331);
    pauliY(q, 9);
    rotateX(q, 17, 2.2935359831336926);
    controlledNot(q, 16, 31);
    hadamard(q, 6);
    hadamard(q, 33);
    pauliY(q, 5);
    pauliX(q, 23);
    rotateY(q, 29, 2.88577048664691);
    tGate(q, 1);
    pauliZ(q, 27);
    controlledRotateX(q, 0, 9, 0.8952100347253281);
    rotateX(q, 26, 5.0042725792671305);
    tGate(q, 19);
    pauliZ(q, 8);
    pauliX(q, 9);
    controlledNot(q, 1, 14);
    pauliX(q, 15);
    controlledPauliY(q, 16, 6);
    tGate(q, 32);
    pauliX(q, 6);
    controlledRotateY(q, 15, 19, 2.2612172209046304);
    controlledRotateY(q, 31, 21, 4.214616840327581);
    controlledRotateX(q, 21, 31, 0.8838413712956238);
    phaseShift(q, 26, 2.9131818708261865);
    pauliY(q, 27);
    phaseShift(q, 5, 4.985359617456854);
    rotateZ(q, 6, 4.3653017720914615);
    controlledRotateY(q, 3, 22, 3.3413219983870803);
    tGate(q, 1);
    controlledNot(q, 28, 25);
    controlledRotateY(q, 23, 28, 2.4214467236038133);
    controlledRotateZ(q, 4, 3, 2.242607943936843);
    controlledRotateX(q, 23, 16, 4.1978876975554416);
    rotateX(q, 7, 2.4640349811399944);
    pauliX(q, 17);
    controlledNot(q, 19, 7);
    controlledNot(q, 9, 15);
    hadamard(q, 18);
    controlledRotateY(q, 29, 9, 0.570737812780074);
    controlledRotateX(q, 12, 5, 0.5294909773273053);
    controlledNot(q, 26, 2);
    pauliZ(q, 16);
    sGate(q, 5);
    rotateY(q, 7, 1.747909774453958);
    rotateZ(q, 6, 5.788804342357842);
    rotateZ(q, 7, 0.9964523589724822);
    rotateX(q, 16, 2.6485784252300393);
    sGate(q, 12);
    rotateX(q, 4, 1.393133050696193);
    tGate(q, 25);
    controlledPauliY(q, 26, 17);
    phaseShift(q, 18, 4.94523017586888);
    phaseShift(q, 29, 2.519799267738987);
    controlledRotateX(q, 5, 31, 3.0254983269480706);
    controlledNot(q, 31, 11);
    rotateZ(q, 32, 5.212230293663734);
    rotateY(q, 33, 2.506525222652765);
    controlledRotateY(q, 7, 11, 2.842305264847563);
    controlledRotateX(q, 17, 33, 3.862533902415931);
    pauliX(q, 20);
    phaseShift(q, 6, 4.310584876369235);
    controlledPauliY(q, 30, 24);
    rotateY(q, 12, 5.203078902808014);
    phaseShift(q, 12, 5.255662689456792);
    controlledNot(q, 9, 19);
    controlledPauliY(q, 24, 4);
    controlledPauliY(q, 13, 20);
    controlledRotateX(q, 11, 29, 0.2058334894400958);
    sGate(q, 3);
    controlledRotateY(q, 27, 21, 3.217669319842044);
    pauliZ(q, 11);
    rotateZ(q, 25, 0.9348451486836272);
    hadamard(q, 18);
    pauliY(q, 10);
    phaseShift(q, 12, 3.5668797145935507);
    pauliZ(q, 19);
    phaseShift(q, 30, 4.924819961859203);
    rotateZ(q, 4, 4.559815246365139);
    pauliX(q, 30);
    tGate(q, 25);
    pauliY(q, 13);
    rotateZ(q, 20, 3.397051191075924);
    pauliZ(q, 4);
    rotateY(q, 4, 3.724176434900594);
    rotateZ(q, 31, 1.0431094850277203);
    phaseShift(q, 10, 2.850732163582491);
    phaseShift(q, 32, 2.9729301955314305);
    sGate(q, 10);
    pauliZ(q, 7);
    hadamard(q, 10);
    tGate(q, 16);
    tGate(q, 15);
    phaseShift(q, 0, 1.437141912972581);
    controlledPauliY(q, 24, 21);
    controlledRotateX(q, 30, 2, 1.6380324726992819);
    sGate(q, 13);
    pauliZ(q, 3);
    controlledRotateX(q, 22, 7, 3.528611527712604);
    phaseShift(q, 15, 4.745302376832947);
    rotateZ(q, 8, 1.2050085626655982);
    hadamard(q, 3);
    pauliX(q, 24);
    rotateX(q, 7, 3.1774313813044097);
    phaseShift(q, 20, 2.477427460230788);
    phaseShift(q, 25, 4.378194229348748);
    hadamard(q, 32);
    controlledRotateY(q, 2, 13, 0.34042839624499227);
    pauliX(q, 6);
    hadamard(q, 33);
    rotateZ(q, 5, 5.535837250362452);
    pauliY(q, 5);
    pauliY(q, 12);
    hadamard(q, 10);
    controlledRotateY(q, 10, 13, 1.5649528191921995);
    rotateZ(q, 2, 4.697220879284798);
    tGate(q, 15);
    rotateX(q, 29, 3.3757572624122583);
    controlledRotateY(q, 27, 22, 3.1766045869098027);
    sGate(q, 33);
    sGate(q, 23);
    hadamard(q, 15);
    rotateZ(q, 11, 4.100416356596018);
    rotateY(q, 10, 1.4812112606240024);
    pauliY(q, 31);
    controlledNot(q, 21, 6);
    sGate(q, 9);
    rotateX(q, 32, 1.2861662189229306);
    sGate(q, 25);
    pauliY(q, 9);
    hadamard(q, 20);
    sGate(q, 31);
    controlledNot(q, 18, 30);
    hadamard(q, 5);
    rotateZ(q, 32, 1.3670503775929863);
    rotateX(q, 28, 1.0471880350430807);
    controlledRotateZ(q, 5, 30, 3.9431212397564805);
    tGate(q, 6);
    pauliZ(q, 11);
    pauliZ(q, 10);
    sGate(q, 12);
    controlledNot(q, 3, 6);
    controlledRotateY(q, 18, 32, 4.849255377169676);
    phaseShift(q, 33, 3.9941935954644867);
    controlledNot(q, 19, 23);
    controlledRotateY(q, 14, 32, 1.1001923421280453);
    controlledPauliY(q, 31, 21);
    rotateX(q, 24, 1.7327882931061611);
    controlledRotateZ(q, 17, 3, 4.744064438446074);
    phaseShift(q, 9, 4.089368928072239);
    pauliX(q, 22);
    pauliZ(q, 26);

    searchQuregTaskPartitions(q, Env);
    double t1 = get_wall_time();
    getAmp(q, 0);
    double t2 = get_wall_time();

    printf("\n");
    for (long long int i = 0; i < 34; ++i) {
        q_measure[i] = calcProbOfOutcome(q, i, 1);
        printf("  probability for q[%2lld]==1 : %lf    \n", i, q_measure[i]);
    }
    printf("\n");


    for (int i = 0; i < 10; ++i) {
        Complex amp = getAmp(q, i);
        printf("Amplitude of %dth state vector: %12.6f,%12.6f\n", i, amp.real, amp.imag);
    }

    printf("Complete the simulation takes time %12.6f seconds.", t2 - t1);
    printf("\n");

    destroyQureg(q, Env);
    destroyQuESTEnv(Env);

    return 0;
}